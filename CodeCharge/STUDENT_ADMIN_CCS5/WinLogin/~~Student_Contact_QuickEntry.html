<html >
<head>
<meta ccsServiceable="true" http-equiv="content-type" content="text/html; charset=windows-1252"/>

<title></title>

<meta ccsServiceable="true" content="CodeCharge Studio 4.1.00.032" name="GENERATOR"/>
<link ccsServiceable="true" href="../Styles/Blueprint/Style.css" type="text/css" rel="stylesheet"/>
<script language="JavaScript" type="text/javascript">
//Begin CCS script
//Include Common JSFunctions @1-F6155A65
</script>
<script language="JavaScript" src='../ClientI18N.aspx?file=Functions.js&amp;locale={res:CCS_LocaleID}' type="text/javascript" charset="windows-1252"></script>
<script language="JavaScript" type="text/javascript">
//End Include Common JSFunctions

//page_QuickEnterForm_Button_Insert_OnClick @5-4FBE80E1
function page_QuickEnterForm_Button_Insert_OnClick()
{
    var result;
//End page_QuickEnterForm_Button_Insert_OnClick

//Custom Code @33-2A29BDB7
    // -------------------------
        // ERA: nice animations on save
        $('<div class="overlay"></div>').appendTo('#QuickEnterFormHolder').show();
        window.setTimeout("result = true;",4000);
        
    // -------------------------
//End Custom Code

//Close page_QuickEnterForm_Button_Insert_OnClick @5-BC33A33A
    return result;
}
//End Close page_QuickEnterForm_Button_Insert_OnClick

//page_OnLoad @1-D0F4E1D3
function page_OnLoad()
{
    var result;
//End page_OnLoad

//Custom Code @17-2A29BDB7
    // -------------------------
   
    // change to small window
  
          if (this.name!='QuickEntry'){ 
                  //var myWin = window.open(location.href,'QuickEntry','fullscreen,scrollbars') 
                  var myWin = window.open(location.href, 'QuickEntry', 'location=no,toolbar=no,menubar=no,directories=no,status=no,resizable=yes,scrollbars=no', false);
          }
          var w = 480; var h = 370;
          if (myWin) {
                  myWin.moveTo((screen.width-w), (screen.height-h)); 
                  myWin.resizeTo(w,h);
                  window.opener='x';
                  window.open('', '_self', '');
                  window.close();
                  //self.close();
          }
          result = true;

    // -------------------------
//End Custom Code


//Set Focus @15-4AD5711B
    if (theForm.QuickEnterFormtext_Who) theForm.QuickEnterFormtext_Who.focus();
//End Set Focus

//Close page_OnLoad @1-BC33A33A
    return result;
}
//End Close page_OnLoad

//page_QuickEnterForm_Button_Cancel_OnClick @6-78AAF03B
function page_QuickEnterForm_Button_Cancel_OnClick()
{
    disableValidation = true;
}
//End page_QuickEnterForm_Button_Cancel_OnClick

//bind_events @1-9D0709EA
function bind_events() {
    addEventHandler("QuickEnterFormButton_Insert","click",page_QuickEnterForm_Button_Insert_OnClick);
    addEventHandler("QuickEnterFormButton_Cancel","click",page_QuickEnterForm_Button_Cancel_OnClick);
    page_OnLoad();
    forms_onload();
}
//End bind_events

window.onload = bind_events; //Assign bind_events @1-19F7B649

//End CCS script
</script>
<style type="text/css">
<!--
.overlay {
        background: black no-repeat 50% 50%;
                background-image: url(../images/ajax_loader_bigwhite.gif);
        display: none;
        height: 100%;
        left: 0;
        opacity: .9;
        position: absolute;
        top: 0;
        width: 100%;
    }
.ui-autocomplete-loading {
        background: white url('../images/ajax_loader_smallblue.gif') right center no-repeat;
}

-->
</style>

</head>
<body>

<span contentEditable="true"  style="display:block;border-style:dashed;border-color:#FF3333; border-width:thin" ccsType="Component" ccsId="4" ccsServiceable="true" ccsName="QuickEnterForm" >

<form ccsServiceable="true" id="QuickEnterForm" name="{HTMLFormName}" action="{Action}" method="post">
  <table cellspacing="0" cellpadding="0" border="0">
    <tr>
      <td valign="top">
        <table class="Header" cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td class="HeaderLeft"><img ccsServiceable="true" src="../Styles/Blueprint/Images/Spacer.gif" border="0"/></td> 
            <th>Quick Enter Student Contact&nbsp; &nbsp;<span ccsId="22" ccsName="Label1" ccsBlockIsWhiteSpace="true" style="white-space:nowrap;border-color:#bbbbbb;border-style:solid;border-width:1px" ccsType="Component" ccsServiceable="true" contentEditable="false">Label1</span></th>
 
            <td class="HeaderRight"><img ccsServiceable="true" src="../Styles/Blueprint/Images/Spacer.gif" border="0"/></td>
          </tr>
        </table>
 
        <table class="Record" cellspacing="0" cellpadding="0">
          <!-- BEGIN Error -->
          <tr class="Error">
            <td colspan="2">{Error}</td>
          </tr>
          <!-- END Error -->
          <tr class="Controls">
            <th>Who?</th>
 
            <td><input ccsServiceable="true" ccsId="14" ccsName="text_Who" ccsType="Component" id="QuickEnterFormtext_Who" size="40" value="{text_Who}" name="{text_Who_Name}"/>&nbsp;</td>
          </tr>
 
          <tr class="Controls">
            <th>How?</th>
 
            <td>
              <span ccsId="8" ccsName="COMMENT_TYPE" ccsType="RadioButton" ccsControlType="RadioButton" ccsControlName="COMMENT_TYPE" ccsExtendedHtml="true" atomicselection="true"  ccsServiceable="true" ccsExtendedHtmlSpan="true"><input ccsServiceable="true" id="QuickEnterFormCOMMENT_TYPE_{COMMENT_TYPE:optionNumber}" type="radio" value="{Value}" name="{COMMENT_TYPE_Name}" ccscheckedattr="{Check}"/>{Description}&nbsp;</span></td>
          </tr>
 
          <tr class="Controls">
            <th>Why?</th>
 
            <td>
<textarea ccsServiceable="true" ccsId="9" ccsName="COMMENT" ccsType="Component" id="QuickEnterFormCOMMENT" name="{COMMENT_Name}" rows="4" cols="30">{COMMENT}</textarea>
</td>
          </tr>
 
          <tr class="Bottom">
            <td align="right" colspan="2">&nbsp; 
              <input ccsServiceable="true" ccsId="6" ccsName="Button_Cancel" ccsType="Component" ccsExtendedHtml="true" class="Button" id="QuickEnterFormButton_Cancel" type="submit" value="Cancel" name="{Button_Name}"/>
              <input ccsServiceable="true" ccsId="5" ccsName="Button_Insert" ccsType="Component" ccsExtendedHtml="true" class="Button" id="QuickEnterFormButton_Insert" type="submit" value="Add Comment" name="{Button_Name}"/></td>
          </tr>
        </table>
        <input ccsServiceable="true" ccsId="10" ccsName="STUDENT_ID" ccsType="Component" id="QuickEnterFormSTUDENT_ID" type="hidden" value="{STUDENT_ID}" name="{STUDENT_ID_Name}"/><input ccsServiceable="true" ccsId="11" ccsName="LAST_ALTERED_BY" ccsType="Component" id="QuickEnterFormLAST_ALTERED_BY" type="hidden" value="{LAST_ALTERED_BY}" name="{LAST_ALTERED_BY_Name}"/><input ccsServiceable="true" ccsId="23" ccsName="Hidden_STAFFID" ccsType="Component" id="QuickEnterFormHidden_STAFFID" type="hidden" value="{Hidden_STAFFID}" name="{Hidden_STAFFID_Name}"/></td>
    </tr>
  </table>
</form>

&nbsp;</span><br>
<link ccsServiceable="true" href="../js/css/ui-lightness/jquery-ui-1.8.8.custom.css" type="text/css" rel="stylesheet"/>
<script src="../js/jquery_min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/jquery-ui-1.8.8.custom.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
function animateClick() {
        $('<div class="overlay"></div>')
                        .appendTo('#QuickEnterFormHolder')
                        .fadeIn(1500)
                        .delay(1000)
                        .queue(function () {
                                $(this).css('background-image','url(images/success.png)');
                                $(this).dequeue();})
                        .delay(200)
                        .fadeOut(500);
        // and reset field
        $('QuickEnterFormtext_Who').val('').focus();
        return true;
}

jQuery(document).ready(function () {
                                $('QuickEnterFormtext_Who').val('').focus();
                $('#QuickEnterFormtext_Who').autocomplete({
                        minLength:3
                        , source: "../services/getStudentQuickContactDetails.aspx"
                        , select: function(event, ui) {
                                if(ui.item) {
                                        $("#QuickEnterFormSTUDENT_ID").val(ui.item.id.toString());
                                }
                        }
                });


});

</script>
<style type="text/css">
<!--
.overlay {
        background: black no-repeat 50% 50%;
                background-image: url(../images/ajax_loader_bigwhite.gif);
        display: none;
        height: 100%;
        left: 0;
        opacity: .9;
        position: absolute;
        top: 0;
        width: 100%;
    }
-->
</style>

</body>
</html>
